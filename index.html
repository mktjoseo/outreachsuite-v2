<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OutreachSuite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 logged-out">

    <div id="auth-container" class="min-h-screen flex items-center justify-center bg-slate-50">
        <div class="p-8 bg-white rounded-xl shadow-lg max-w-md w-full">
            <div class="text-center">
                <h1 data-translate-key="login_title" class="text-4xl font-bold text-slate-800">Welcome to OutreachSuite</h1>
                <p data-translate-key="login_subtitle" class="text-slate-500 mt-2 mb-8">Please log in to access the tools.</p>
            </div>
            <div id="auth-error" class="hidden bg-red-100 text-red-700 text-sm p-3 rounded-lg mb-4"></div>
            <div id="auth-success" class="hidden bg-green-100 text-green-700 text-sm p-3 rounded-lg mb-4"></div>
            <form id="auth-form" class="space-y-4">
                <input type="email" id="auth-email" placeholder="Email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <input type="password" id="auth-password" placeholder="Password (min. 6 characters)" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <select id="auth-language" class="w-full p-3 border border-gray-300 rounded-lg bg-white">
                    <option value="en">English</option>
                    <option value="es">Español</option>
                </select>
                <div class="flex gap-4">
                    <button type="button" id="login-btn" data-translate-key="login_btn" class="w-full bg-slate-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-600 transition">Log In</button>
                    <button type="button" id="signup-btn" data-translate-key="signup_btn" class="w-full bg-[#BF103C] text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition">Sign Up</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="app-container" class="relative min-h-screen md:flex">
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>
        <aside id="sidebar" class="w-64 bg-slate-800 text-white flex flex-col fixed inset-y-0 left-0 z-30 transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="flex items-center justify-between p-6 text-2xl font-bold border-b border-slate-700">
                <span data-translate-key="app_title">OutreachSuite</span>
                <button id="close-menu-button" class="md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
            </div>
            <nav class="flex-grow p-4">
                <ul class="space-y-2">
                    <li><a href="#home" class="sidebar-link" data-translate-key="nav_home"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>Dashboard</a></li>
                    <li><a href="#projects" class="sidebar-link" data-translate-key="nav_projects"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.158a1 1 0 01.768.363L8.106 4.894a1 1 0 00.768.363H16a1 1 0 011 1v2a1 1 0 00-1-1h-7.894a1 1 0 01-.768-.363L4.158 3.106A1 1 0 003.39 3H3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V9a1 1 0 00-2 0v6H4V4a1 1 0 00-1-1H2z" /></svg>Projects</a></li>
                    <li><a href="#affinity-outreach" class="sidebar-link" data-translate-key="nav_affinity"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.5a1.5 1.5 0 00-1.293.707l-7 12a1.5 1.5 0 001.293 2.293h14a1.5 1.5 0 001.293-2.293l-7-12A1.5 1.5 0 0010 1.5zM9 6a1 1 0 112 0 1 1 0 01-2 0zm1 9a1 1 0 110-2 1 1 0 010 2z" clip-rule="evenodd" /><circle cx="10" cy="3" r="1.5" /><circle cx="3" cy="15" r="1.5" /><circle cx="17" cy="15" r="1.5" /></svg>Affinity Outreach</a></li>
                    <li><a href="#hybrid-scraper" class="sidebar-link" data-translate-key="nav_hybrid"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>Hybrid Scraper</a></li>
                </ul>
            </nav>
            <div class="p-4 mt-auto border-t border-slate-700 space-y-4">
                <div class="flex items-center justify-center gap-2">
                    <button id="lang-es" class="px-3 py-1 text-sm rounded-md transition-colors">Español</button>
                    <button id="lang-en" class="px-3 py-1 text-sm rounded-md transition-colors">English</button>
                </div>
                <p class="text-xs text-slate-400 text-center" data-translate-key="made_by">Made with <span class="text-red-500">♥</span> by Eduardo Bortolotti L.</p>
            </div>
        </aside>

        <div class="flex-1 flex flex-col">
            <header class="bg-white shadow-sm border-b border-gray-200 p-4 flex justify-between items-center z-10">
                <button id="mobile-menu-button" class="text-slate-800 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg></button>
                <div id="active-project-display" class="text-sm font-semibold text-slate-600 flex-grow"></div>
                <div id="user-profile-container" class="relative"></div>
            </header>
            <main class="flex-1 p-6 lg:p-10 overflow-y-auto">
                
                <div id="home-view" class="view">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="home_title">Select a function</h1>
                    <p class="text-lg text-slate-500 mt-2" data-translate-key="home_subtitle">Choose one of the available tools to start.</p>
                    <div class="grid md:grid-cols-3 gap-6 mt-8">
                        <a href="#projects" class="view-switcher bg-white p-6 rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-200 flex flex-col items-center text-center">
                            <svg class="h-12 w-12 text-[#BF103C] mb-4" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.158a1 1 0 01.768.363L8.106 4.894a1 1 0 00.768.363H16a1 1 0 011 1v2a1 1 0 00-1-1h-7.894a1 1 0 01-.768-.363L4.158 3.106A1 1 0 003.39 3H3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V9a1 1 0 00-2 0v6H4V4a1 1 0 00-1-1H2z" /></svg>
                            <h3 class="text-xl font-bold text-slate-800" data-translate-key="projects_card_title">Project Management</h3>
                            <p class="text-slate-500 mt-2" data-translate-key="projects_card_desc">Organize your work, manage keywords, and review saved media.</p>
                        </a>
                        <a href="#affinity-outreach" class="view-switcher bg-white p-6 rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-200 flex flex-col items-center text-center">
                             <svg class="h-12 w-12 text-[#BF103C] mb-4" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.5a1.5 1.5 0 00-1.293.707l-7 12a1.5 1.5 0 001.293 2.293h14a1.5 1.5 0 001.293-2.293l-7-12A1.5 1.5 0 0010 1.5zM9 6a1 1 0 112 0 1 1 0 01-2 0zm1 9a1 1 0 110-2 1 1 0 010 2z" clip-rule="evenodd" /><circle cx="10" cy="3" r="1.5" /><circle cx="3" cy="15" r="1.5" /><circle cx="17" cy="15" r="1.5" /></svg>
                            <h3 class="text-xl font-bold text-slate-800" data-translate-key="affinity_card_title">Affinity Outreach</h3>
                            <p class="text-slate-500 mt-2" data-translate-key="affinity_card_desc">Finds relevant blogs and media for your topic.</p>
                        </a>
                        <a href="#hybrid-scraper" class="view-switcher bg-white p-6 rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-200 flex flex-col items-center text-center">
                             <svg class="h-12 w-12 text-[#BF103C] mb-4" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>
                             <h3 class="text-xl font-bold text-slate-800" data-translate-key="hybrid_card_title">Hybrid Scraper</h3>
                             <p class="text-slate-500 mt-2" data-translate-key="hybrid_card_desc">Scans any website to find contact emails.</p>
                        </a>
                    </div>
                </div>

                <div id="projects-view" class="view hidden">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="projects_title">My Projects</h1>
                    <p class="text-lg text-slate-500 mt-2 mb-8" data-translate-key="projects_subtitle">Select a project to work on or create a new one.</p>
                    <div class="grid lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-1 space-y-6">
                            <form id="project-form" class="p-6 bg-white rounded-xl shadow-sm border border-gray-200">
                                <h3 id="project-form-title" class="text-xl font-bold text-slate-800 mb-4" data-translate-key="create_project_title">Create a New Project</h3>
                                <input type="hidden" id="project-id-input">
                                <div class="space-y-4">
                                    <div>
                                        <label for="project-name" class="block text-sm font-medium text-slate-600" data-translate-key="project_name_label">Project Name</label>
                                        <input type="text" id="project-name" required class="mt-1 w-full p-2 border border-gray-300 rounded-lg" data-translate-key="project_name_placeholder" placeholder="e.g., Launch Campaign for Client X">
                                    </div>
                                    <div>
                                        <label for="project-url" class="block text-sm font-medium text-slate-600" data-translate-key="project_url_label">Project URL</label>
                                        <input type="text" id="project-url" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" data-translate-key="project_url_placeholder" placeholder="domain.com">
                                    </div>
                                    <div>
                                        <label for="project-keyword-input" class="block text-sm font-medium text-slate-600" data-translate-key="project_keywords_label">Keywords</label>
                                        <input type="text" id="project-keyword-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" data-translate-key="add_keyword_placeholder" placeholder="Add keyword & press Enter...">
                                        <div id="project-tags-container" class="mt-2"></div>
                                    </div>
                                    <div class="flex gap-2">
                                        <button type="submit" id="project-submit-btn" class="w-full bg-[#BF103C] text-white font-bold py-2 px-4 rounded-lg" data-translate-key="create_project_btn">Create Project</button>
                                        <button type="button" id="project-cancel-btn" class="hidden w-full bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg">Cancel</button>
                                    </div>
                                </div>
                            </form>
                            <div class="p-6 bg-white rounded-xl shadow-sm border border-gray-200">
                                <h3 class="text-xl font-bold text-slate-800 mb-4" data-translate-key="step1_title">1. Analyze Your Project for Keywords</h3>
                                <p class="text-sm text-slate-500 mb-4">Use the URL from your project to get keyword ideas.</p>
                                <button id="project-analyze-keywords-btn" class="w-full bg-sky-600 text-white font-bold py-2 px-4 rounded-lg disabled-btn" data-translate-key="analyze_btn">Analyze & Generate</button>
                                <div id="project-keyword-log-container-wrapper" class="hidden bg-slate-800 text-white rounded-xl p-4 mt-4">
                                    <div id="project-keyword-log-container" class="console-font text-sm h-32 overflow-y-auto pr-2"></div>
                                </div>
                            </div>
                        </div>
                        <div id="projects-list-container" class="lg:col-span-2 space-y-4">
                            </div>
                    </div>
                </div>

                <div id="hybrid-scraper-view" class="view hidden">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="hybrid_title">Hybrid Scraper</h1>
                    <p class="text-lg text-slate-500 mt-2 mb-8" data-translate-key="hybrid_subtitle">Uncover contact information from any website.</p>
                    <div class="flex gap-2">
                        <input type="text" id="hs-url-input" class="w-full p-3 border border-gray-300 rounded-lg" data-translate-key="hybrid_placeholder" placeholder="Enter the website URL to investigate...">
                        <button id="hs-scrape-btn" class="bg-[#BF103C] text-white font-bold py-3 px-6 rounded-lg" data-translate-key="hybrid_search_btn">Search</button>
                    </div>
                    <div id="hs-results-container" class="mt-6"></div>
                    <div id="hs-log-container-wrapper" class="hidden mt-6 bg-slate-800 text-white rounded-xl p-4">
                        <h4 class="text-lg font-semibold mb-2 text-slate-300">Process Console</h4>
                        <div id="hs-log-container" class="console-font text-sm h-64 overflow-y-auto pr-2"></div>
                    </div>
                </div>

                <div id="affinity-outreach-view" class="view hidden">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="affinity_title">Affinity Outreach Finder</h1>
                    <p class="text-lg text-slate-500 mt-2 mb-8" data-translate-key="affinity_subtitle">Discover relevant media outlets based on real SEO data.</p>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <h3 class="text-xl font-bold text-slate-800 mb-4" data-translate-key="step2_title">Find Affinity Media</h3>
                        <p class="text-sm text-slate-500 mb-4">Use keywords from your active project or add them manually to find media.</p>
                        <div class="space-y-4">
                            <div>
                                <label for="ao-keyword-input" class="block text-sm font-medium text-slate-600" data-translate-key="keywords_label">Keywords or Topics</label>
                                <div class="flex items-center gap-2">
                                    <input type="text" id="ao-keyword-input" class="mt-1 w-full p-2 border border-gray-300 rounded-lg" data-translate-key="add_keyword_placeholder" placeholder="Add keyword & press Enter...">
                                    <button id="ao-add-keyword-btn" class="bg-slate-700 text-white font-bold py-2 px-4 rounded-lg" data-translate-key="add_btn">Add</button>
                                    <button id="ao-clear-keywords-btn" class="bg-slate-200 text-slate-700 font-bold py-2 px-4 rounded-lg">Clear All</button>
                                </div>
                                <div id="ao-tags-container" class="mt-2"></div>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                                <div><label for="ao-search-type" data-translate-key="search_type_label">Search Type</label><select id="ao-search-type" class="w-full p-2 mt-1 border rounded-lg bg-white"></select></div>
                                <div><label for="ao-country" data-translate-key="country_label">Country</label><select id="ao-country" class="w-full p-2 mt-1 border rounded-lg bg-white"></select></div>
                                <div><label for="ao-language" data-translate-key="language_label">Language</label><select id="ao-language" class="w-full p-2 mt-1 border rounded-lg bg-white"></select></div>
                            </div>
                            <button id="ao-search-media-btn" class="w-full bg-[#BF103C] text-white font-bold py-2 px-4 rounded-lg" data-translate-key="search_media_btn">Search Media</button>
                        </div>
                    </div>
                    <div id="ao-results-container" class="mt-8"></div>
                    <div id="ao-log-container-wrapper" class="hidden mt-6 bg-slate-800 text-white rounded-xl p-4">
                        <div id="ao-log-container" class="console-font text-sm h-64 overflow-y-auto pr-2"></div>
                    </div>
                </div>

                <div id="settings-view" class="view hidden">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="settings_title">Settings</h1>
                    <p class="text-lg text-slate-500 mt-2 mb-8" data-translate-key="settings_subtitle">Manage your preferences and API keys.</p>
                    <div class="max-w-2xl mx-auto space-y-8">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                            <h3 class="text-xl font-bold text-slate-800 mb-4" data-translate-key="profile_settings_title">Profile Information</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div><label for="user-first-name" data-translate-key="first_name_label">First Name</label><input type="text" id="user-first-name" class="w-full p-2 mt-1 border rounded-lg"></div>
                                <div><label for="user-last-name" data-translate-key="last_name_label">Last Name</label><input type="text" id="user-last-name" class="w-full p-2 mt-1 border rounded-lg"></div>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                             <h3 class="text-xl font-bold text-slate-800" data-translate-key="api_keys_title">API Keys</h3>
                             <p class="text-slate-500 text-sm mt-1 mb-4" data-translate-key="api_keys_subtitle">This feature will be enabled in a future update.</p>
                             <div class="space-y-4">
                                <div><label class="font-medium text-slate-600">Gemini API Key</label><input type="password" disabled class="w-full p-2 mt-1 border rounded-lg bg-slate-100"></div>
                                <div><label class="font-medium text-slate-600">ScraperAPI Key</label><input type="password" disabled class="w-full p-2 mt-1 border rounded-lg bg-slate-100"></div>
                             </div>
                        </div>
                        <div id="settings-success" class="hidden bg-green-100 text-green-700 p-3 rounded-lg"></div>
                        <button id="save-settings-btn" class="w-full bg-[#BF103C] text-white font-bold py-2 px-4 rounded-lg" data-translate-key="save_settings_btn">Save Settings</button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="app.js" defer></script>
</body>
</html>