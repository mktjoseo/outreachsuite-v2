<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OutreachSuite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 logged-out">

    <div id="auth-container" class="min-h-screen flex items-center justify-center bg-slate-50">
        <div class="p-8 bg-white rounded-xl shadow-lg max-w-md w-full">
            <div class="text-center">
                <h1 data-translate-key="login_title" class="text-4xl font-bold text-slate-800">Welcome to OutreachSuite</h1>
                <p data-translate-key="login_subtitle" class="text-slate-500 mt-2 mb-8">Please log in to access the tools.</p>
            </div>
            <div id="auth-error" class="hidden bg-red-100 text-red-700 text-sm p-3 rounded-lg mb-4"></div>
            <div id="auth-success" class="hidden bg-green-100 text-green-700 text-sm p-3 rounded-lg mb-4"></div>
            <form id="auth-form" class="space-y-4">
                <input type="email" id="auth-email" placeholder="Email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <input type="password" id="auth-password" placeholder="Password (min. 6 characters)" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <select id="auth-language" class="w-full p-3 border border-gray-300 rounded-lg bg-white">
                    <option value="en">English</option>
                    <option value="es">Español</option>
                </select>
                <div class="flex gap-4">
                    <button type="button" id="login-btn" data-translate-key="login_btn" class="w-full bg-slate-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-600 transition">Log In</button>
                    <button type="button" id="signup-btn" data-translate-key="signup_btn" class="w-full bg-[#BF103C] text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition">Sign Up</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="app-container" class="relative min-h-screen md:flex">
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>
        <aside id="sidebar" class="w-64 bg-slate-800 text-white flex flex-col fixed inset-y-0 left-0 z-30 transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="flex items-center justify-between p-6 text-2xl font-bold border-b border-slate-700">
                <span data-translate-key="app_title">OutreachSuite</span>
                <button id="close-menu-button" class="md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
            </div>
            <nav class="flex-grow p-4">
                <ul class="space-y-2">
                    <li><a href="#home" class="sidebar-link" data-translate-key="nav_home"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>Dashboard</a></li>
                    <li><a href="#projects" class="sidebar-link" data-translate-key="nav_projects"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.158a1 1 0 01.768.363L8.106 4.894a1 1 0 00.768.363H16a1 1 0 011 1v2a1 1 0 00-1-1h-7.894a1 1 0 01-.768-.363L4.158 3.106A1 1 0 003.39 3H3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V9a1 1 0 00-2 0v6H4V4a1 1 0 00-1-1H2z" /></svg>Projects</a></li>
                    <li><a href="#affinity-outreach" class="sidebar-link" data-translate-key="nav_affinity"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.5a1.5 1.5 0 00-1.293.707l-7 12a1.5 1.5 0 001.293 2.293h14a1.5 1.5 0 001.293-2.293l-7-12A1.5 1.5 0 0010 1.5zM9 6a1 1 0 112 0 1 1 0 01-2 0zm1 9a1 1 0 110-2 1 1 0 010 2z" clip-rule="evenodd" /><circle cx="10" cy="3" r="1.5" /><circle cx="3" cy="15" r="1.5" /><circle cx="17" cy="15" r="1.5" /></svg>Affinity Outreach</a></li>
                    <li><a href="#hybrid-scraper" class="sidebar-link" data-translate-key="nav_hybrid"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>Hybrid Scraper</a></li>
                </ul>
            </nav>
            <div class="p-4 mt-auto border-t border-slate-700 space-y-4">
                <div class="flex items-center justify-center gap-2">
                    <button id="lang-es" class="px-3 py-1 text-sm rounded-md transition-colors">Español</button>
                    <button id="lang-en" class="px-3 py-1 text-sm rounded-md transition-colors">English</button>
                </div>
                <p class="text-xs text-slate-400 text-center" data-translate-key="made_by">Made with <span class="text-red-500">♥</span> by Eduardo Bortolotti L.</p>
            </div>
        </aside>

        <div class="flex-1 flex flex-col">
            <header class="bg-white shadow-sm border-b border-gray-200 p-4 flex justify-between items-center z-10">
                <button id="mobile-menu-button" class="text-slate-800 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg></button>
                <div id="active-project-display" class="text-sm font-semibold text-slate-600 flex-grow"></div>
                <div id="user-profile-container" class="relative"></div>
            </header>
            <main class="flex-1 p-6 lg:p-10 overflow-y-auto">
                
                <div id="home-view" class="view">
                    </div>
                <div id="projects-view" class="view hidden">
                    </div>

                <div id="hybrid-scraper-view" class="view hidden">
                    <h1 class="text-4xl font-bold text-slate-800" data-translate-key="hybrid_title">Hybrid Scraper</h1>
                    <p class="text-lg text-slate-500 mt-2 mb-8" data-translate-key="hybrid_subtitle">Uncover contact information from any website.</p>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-2">
                        <input type="text" id="hs-url-input" class="md:col-span-2 w-full p-3 border border-gray-300 rounded-lg" data-translate-key="hybrid_placeholder" placeholder="Enter the website URL to investigate...">
                        <select id="hs-language-select" class="w-full p-3 border border-gray-300 rounded-lg bg-white"></select>
                        <button id="hs-scrape-btn" class="w-full bg-[#BF103C] text-white font-bold py-3 px-6 rounded-lg" data-translate-key="hybrid_search_btn">Search</button>
                    </div>
                    <div id="hs-results-container" class="mt-8"></div>
                    <div id="hs-prompt-container" class="hidden mt-6 bg-slate-700 p-6 rounded-lg shadow-md text-left">
                        <p class="text-lg font-semibold text-sky-300" id="hs-prompt-message"></p>
                        <div id="hs-prompt-links" class="mt-4 mb-6 p-4 bg-black bg-opacity-20 rounded-md space-y-1 max-h-48 overflow-y-auto"></div>
                        <button id="hs-deep-scan-btn" class="w-full bg-sky-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-700">Execute Deep Scan</button>
                    </div>
                    <div id="hs-log-container-wrapper" class="hidden mt-6 bg-slate-800 text-white rounded-xl p-4">
                        <h4 class="text-lg font-semibold mb-2 text-slate-300">Process Console</h4>
                        <div id="hs-log-container" class="console-font text-sm h-64 overflow-y-auto pr-2"></div>
                    </div>
                </div>

                <div id="affinity-outreach-view" class="view hidden">
                    </div>
                <div id="settings-view" class="view hidden">
                    </div>
            </main>
        </div>
    </div>

    <script src="app.js" defer></script>
</body>
</html>