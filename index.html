<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OutreachSuite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .console-font { font-family: 'Fira Code', monospace; }
        #log-container::-webkit-scrollbar, #ao-keyword-log-container::-webkit-scrollbar, #ao-log-container::-webkit-scrollbar { width: 8px; }
        #log-container::-webkit-scrollbar-track, #ao-keyword-log-container::-webkit-scrollbar-track, #ao-log-container::-webkit-scrollbar-track { background: #2d3748; }
        #log-container::-webkit-scrollbar-thumb, #ao-keyword-log-container::-webkit-scrollbar-thumb, #ao-log-container::-webkit-scrollbar-thumb { background-color: #4a5568; border-radius: 20px; border: 3px solid #2d3748; }
        .disabled-btn, button:disabled, input:disabled { opacity: 0.6; cursor: not-allowed; }
        .sidebar-link { display: flex; align-items: center; gap: 0.75rem; color: #cbd5e1; border-radius: 0.5rem; padding: 0.75rem 1rem; transition: color 0.2s, background-color 0.2s; }
        .sidebar-link:hover { background-color: rgba(71, 85, 105, 0.5); }
        .sidebar-link.active { background-color: #475569; color: #ffffff; font-weight: 600; }
        .loader { border-top-color: #BF103C; -webkit-animation: spin 1s linear infinite; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .tag { display: inline-flex; align-items: center; background-color: #BF103C; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem; margin: 0.25rem 0.4rem 0.25rem 0; }
        .tag-remove { margin-left: 0.5rem; width: 1rem; height: 1rem; border-radius: 50%; background-color: rgba(0,0,0,0.2); color: white; border: none; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; }
        .tag-remove:hover { background-color: rgba(0,0,0,0.4); }
        .category-tag { font-size: 0.75rem; padding: 0.125rem 0.5rem; border-radius: 0.375rem; font-weight: 600; text-transform: uppercase; }
        .dropdown-menu.hidden { display: none; }
        body.logged-out #app-container { display: none; }
        body.logged-in #auth-container { display: none; }
        body.logged-in #app-container { display: flex; }
        .project-accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .project-accordion-content.open { max-height: 2000px; }
        .accordion-arrow.open { transform: rotate(180deg); }
    </style>
</head>
<body class="bg-gray-100 logged-out">

    <div id="auth-container" class="min-h-screen flex items-center justify-center bg-slate-50">
        <div class="p-8 bg-white rounded-xl shadow-lg max-w-md w-full">
            <div class="text-center">
                <h1 data-translate-key="login_title" class="text-4xl font-bold text-slate-800">Welcome to OutreachSuite</h1>
                <p data-translate-key="login_subtitle" class="text-slate-500 mt-2 mb-8">Please log in to access the tools.</p>
            </div>
            <div id="auth-error" class="hidden bg-red-100 text-red-700 text-sm p-3 rounded-lg mb-4"></div>
            <div id="auth-success" class="hidden bg-green-100 text-green-700 text-sm p-3 rounded-lg mb-4"></div>
            <form id="auth-form" class="space-y-4">
                <input type="email" id="auth-email" placeholder="Email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <input type="password" id="auth-password" placeholder="Password (min. 6 characters)" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]">
                <select id="auth-language" class="w-full p-3 border border-gray-300 rounded-lg bg-white">
                    <option value="en">English</option>
                    <option value="es">Español</option>
                </select>
                <div class="flex gap-4">
                    <button type="button" id="login-btn" data-translate-key="login_btn" class="w-full bg-slate-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-600 transition">Log In</button>
                    <button type="button" id="signup-btn" data-translate-key="signup_btn" class="w-full bg-[#BF103C] text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition">Sign Up</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="app-container" class="relative min-h-screen md:flex">
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden"></div>
        <aside id="sidebar" class="w-64 bg-slate-800 text-white flex flex-col fixed inset-y-0 left-0 z-30 transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="flex items-center justify-between p-6 text-2xl font-bold border-b border-slate-700">
                <span data-translate-key="app_title">OutreachSuite</span>
                <button id="close-menu-button" class="md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
            </div>
            <nav class="flex-grow p-4">
                <ul class="space-y-2">
                    <li><a href="#home" class="sidebar-link" data-translate-key="nav_home"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>Dashboard</a></li>
                    <li><a href="#projects" class="sidebar-link" data-translate-key="nav_projects"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.158a1 1 0 01.768.363L8.106 4.894a1 1 0 00.768.363H16a1 1 0 011 1v2a1 1 0 00-1-1h-7.894a1 1 0 01-.768-.363L4.158 3.106A1 1 0 003.39 3H3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V9a1 1 0 00-2 0v6H4V4a1 1 0 00-1-1H2z" /></svg>Projects</a></li>
                    <li><a href="#affinity-outreach" class="sidebar-link" data-translate-key="nav_affinity"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.5a1.5 1.5 0 00-1.293.707l-7 12a1.5 1.5 0 001.293 2.293h14a1.5 1.5 0 001.293-2.293l-7-12A1.5 1.5 0 0010 1.5zM9 6a1 1 0 112 0 1 1 0 01-2 0zm1 9a1 1 0 110-2 1 1 0 010 2z" clip-rule="evenodd" /><circle cx="10" cy="3" r="1.5" /><circle cx="3" cy="15" r="1.5" /><circle cx="17" cy="15" r="1.5" /></svg>Affinity Outreach</a></li>
                    <li><a href="#hybrid-scraper" class="sidebar-link" data-translate-key="nav_hybrid"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>Hybrid Scraper</a></li>
                </ul>
            </nav>
            <div class="p-4 mt-auto border-t border-slate-700 space-y-4">
                <div class="flex items-center justify-center gap-2">
                    <button id="lang-es" class="px-3 py-1 text-sm rounded-md transition-colors">Español</button>
                    <button id="lang-en" class="px-3 py-1 text-sm rounded-md transition-colors">English</button>
                </div>
                <p class="text-xs text-slate-400 text-center" data-translate-key="made_by">Made with <span class="text-red-500">♥</span> by Eduardo Bortolotti L.</p>
            </div>
        </aside>

        <div class="flex-1 flex flex-col">
            <header class="bg-white shadow-sm border-b border-gray-200 p-4 flex justify-between items-center z-10">
                <button id="mobile-menu-button" class="text-slate-800 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg></button>
                <div id="active-project-display" class="text-sm font-semibold text-slate-600 flex-grow"></div>
                <div id="user-profile-container" class="relative"></div>
            </header>
            <main class="flex-1 p-6 lg:p-10 overflow-y-auto">
                
                <div id="home-view" class="view">
                    <header class="mb-8"><h1 data-translate-key="home_title" class="text-4xl font-bold text-slate-800">Select a function</h1><p data-translate-key="home_subtitle" class="text-lg text-slate-500 mt-1">Choose one of the available tools to start.</p></header>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <a href="#projects" class="view-switcher bg-white p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group"><div class="flex-shrink-0 w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.158a1 1 0 01.768.363L8.106 4.894a1 1 0 00.768.363H16a1 1 0 011 1v2a1 1 0 00-1-1h-7.894a1 1 0 01-.768-.363L4.158 3.106A1 1 0 003.39 3H3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V9a1 1 0 00-2 0v6H4V4a1 1 0 00-1-1H2z" /></svg></div><h3 data-translate-key="projects_card_title" class="text-xl font-bold text-slate-800 mt-4">Project Management</h3><p data-translate-key="projects_card_desc" class="text-slate-500 mt-1">Organize your work, manage keywords, and review saved media.</p></a>
                        <a href="#affinity-outreach" class="view-switcher bg-white p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group"><div class="flex-shrink-0 w-12 h-12 bg-sky-100 text-sky-600 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M10 1.5a1.5 1.5 0 00-1.293.707l-7 12a1.5 1.5 0 001.293 2.293h14a1.5 1.5 0 001.293-2.293l-7-12A1.5 1.5 0 0010 1.5zM9 6a1 1 0 112 0 1 1 0 01-2 0zm1 9a1 1 0 110-2 1 1 0 010 2z" clip-rule="evenodd" /><circle cx="10" cy="3" r="1.5" /><circle cx="3" cy="15" r="1.5" /><circle cx="17" cy="15" r="1.5" /></svg></div><h3 data-translate-key="affinity_card_title" class="text-xl font-bold text-slate-800 mt-4">Affinity Outreach</h3><p data-translate-key="affinity_card_desc" class="text-slate-500 mt-1">Finds relevant blogs and media for your topic.</p></a>
                        <a href="#hybrid-scraper" class="view-switcher bg-white p-6 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group"><div class="flex-shrink-0 w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg></div><h3 data-translate-key="hybrid_card_title" class="text-xl font-bold text-slate-800 mt-4">Hybrid Scraper</h3><p data-translate-key="hybrid_card_desc" class="text-slate-500 mt-1">Scans any website to find contact emails.</p></a>
                    </div>
                </div>

                <div id="projects-view" class="view hidden">
                    <div class="container mx-auto max-w-5xl space-y-8">
                        <div class="bg-white p-6 rounded-xl shadow-lg">
                            <h3 id="project-form-title" data-translate-key="create_project_title" class="text-2xl font-bold text-slate-800 mb-4">Create a New Project</h3>
                            <form id="project-form" class="space-y-4">
                                <input type="hidden" id="project-id-input">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><label for="project-name" data-translate-key="project_name_label" class="block text-sm font-medium text-slate-600 mb-1">Project Name</label><input type="text" id="project-name" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]" data-translate-key="project_name_placeholder" placeholder="e.g., Launch Campaign for Client X"></div>
                                    <div><label for="project-url" data-translate-key="project_url_label" class="block text-sm font-medium text-slate-600 mb-1">Project URL</label><input type="text" id="project-url" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF103C]" data-translate-key="project_url_placeholder" placeholder="domain.com"></div>
                                </div>
                                <div>
                                    <label for="project-keyword-input" data-translate-key="project_keywords_label" class="block text-sm font-medium text-slate-600 mb-1">Keywords</label>
                                    <div class="flex items-center space-x-2 w-full bg-gray-50 border border-gray-300 rounded-lg p-1">
                                        <div id="project-tags-container" class="flex-grow flex flex-wrap items-center gap-2 pl-2"></div>
                                        <input type="text" id="project-keyword-input" data-translate-key="add_keyword_placeholder" class="flex-grow bg-transparent border-none focus:ring-0 text-sm p-1" placeholder="Add keyword & press Enter...">
                                    </div>
                                </div>
                                <div class="flex justify-end gap-2 pt-2">
                                    <button type="button" id="project-cancel-btn" class="bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition hidden">Cancel</button>
                                    <button type="submit" id="project-submit-btn" class="bg-[#BF103C] text-white font-bold py-2 px-6 rounded-lg hover:bg-opacity-90 transition" data-translate-key="create_project_btn">Create Project</button>
                                </div>
                            </form>
                        </div>
                        <div>
                            <h2 class="text-3xl font-bold text-slate-800 mb-4">My Projects</h2>
                            <div id="projects-list-container" class="space-y-3"></div>
                        </div>
                    </div>
                </div>

                <div id="hybrid-scraper-view" class="view hidden">
                    <div class="container mx-auto max-w-5xl">
                        <header class="relative text-left mb-8"><h1 data-translate-key="hybrid_title" class="text-4xl sm:text-5xl font-bold text-[#39414E]">Hybrid Scraper</h1><p data-translate-key="hybrid_subtitle" class="mt-2 text-lg text-gray-500">Uncover contact information from any website.</p></header>
                        <div class="bg-white p-4 rounded-xl shadow-lg"><div class="flex flex-col sm:flex-row gap-3"><input type="url" id="urlInput" data-translate-key="hybrid_placeholder" placeholder="Enter the website URL to investigate..." class="flex-grow p-4 border border-gray-200 rounded-lg text-lg focus:ring-2 focus:ring-[#BF103C]"><button id="scrapeBtn" class="bg-[#BF103C] text-white font-semibold py-4 px-8 rounded-lg flex items-center justify-center text-lg hover:bg-opacity-90"><span id="search-btn-text" data-translate-key="hybrid_search_btn">Search</span></button></div></div>
                        <div id="log-console" class="mt-8 bg-gray-800 rounded-xl shadow-lg hidden"><div class="bg-gray-700 rounded-t-lg px-4 py-2 flex items-center"><span class="h-3 w-3 bg-red-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-yellow-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-green-500 rounded-full"></span><span class="ml-4 text-gray-300 console-font text-sm">Process Console</span></div><div id="log-container" class="p-4 console-font text-sm h-96 overflow-y-auto"></div></div>
                        <div id="prompt-container" class="mt-6 hidden"><div class="bg-gray-800 p-6 rounded-lg shadow-md text-left"><p class="text-lg font-semibold text-[#0FCCC9] console-font" id="prompt-message"></p><div id="prompt-links" class="mt-4 mb-6 p-4 bg-black bg-opacity-20 rounded-md space-y-2 max-h-48 overflow-y-auto"></div><div class="flex justify-center gap-4"><button id="deep-scan-btn" class="w-full bg-[#0FCCC9] text-[#39414E] font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition-colors flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" /></svg>Execute Deep Scan</button></div></div></div>
                        <div id="ai-prompt-container" class="mt-6 hidden"><div class="bg-gray-800 p-6 rounded-lg shadow-md text-left"><p class="text-lg font-semibold text-purple-400 console-font" id="ai-prompt-title"></p><p class="mt-2 text-gray-300 console-font" id="ai-prompt-subtitle"></p><div class="flex justify-center gap-4 mt-6"><button id="ask-ai-btn" class="w-full bg-[#BF103C] text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition-colors flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>Engage Gemini AI</button></div></div></div>
                        <div id="results" class="mt-10 hidden"><h2 class="text-2xl font-bold text-[#39414E] mb-4">Final Results</h2><div id="emails-container" class="mb-8 hidden"><h3 class="text-xl font-semibold text-gray-700 mb-3">Emails Found</h3><div id="emailList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div><div id="socials-container" class="hidden"><h3 class="text-xl font-semibold text-gray-700 mb-3">Social & Contact Links</h3><div id="socialList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div></div>
                        <div id="error-message" class="hidden mt-6 bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-r-lg" role="alert"><p class="font-bold">An error occurred!</p><p id="error-text"></p></div>
                    </div>
                </div>

                <div id="affinity-outreach-view" class="view hidden">
                    <div class="container mx-auto max-w-4xl">
                        <header class="text-center mb-8"><h1 data-translate-key="affinity_title" class="text-3xl md:text-4xl font-bold text-[#39414E] mb-2">Affinity Outreach Finder</h1><p data-translate-key="affinity_subtitle" class="text-gray-600">Discover relevant media outlets based on real SEO data.</p></header>
                        <main>
                            <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
                                <h3 data-translate-key="step1_title" class="text-xl font-bold text-slate-800 mb-4">1. Analyze Your Project for Keywords</h3>
                                <div><label for="ao-projectUrl" data-translate-key="project_url_label" class="block text-sm font-medium text-[#39414E] mb-2">Project URL</label><div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2"><input type="url" id="ao-projectUrl" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#BF103C]" data-translate-key="project_url_placeholder" placeholder="e.g., https://yourproject.com"><div class="flex-shrink-0 flex"><button type="button" id="ao-generateKeywordsButton" class="bg-[#0FCCC9] hover:opacity-90 text-white font-bold py-3 px-4 rounded-lg text-sm flex items-center justify-center w-full"><span id="ao-generate-btn-text" data-translate-key="analyze_btn">Analyze & Generate</span><div id="ao-generate-loader" class="loader ease-linear rounded-full border-2 border-t-2 border-white h-4 w-4 ml-2 hidden"></div></button></div></div></div>
                                <div id="ao-keyword-log-console" class="hidden mt-4 bg-gray-800 rounded-xl shadow-lg"><div class="bg-gray-700 rounded-t-lg px-4 py-2 flex items-center"><span class="h-3 w-3 bg-red-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-yellow-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-green-500 rounded-full"></span><span class="ml-4 text-gray-300 console-font text-sm">Keyword Analysis Log</span></div><div id="ao-keyword-log-container" class="p-4 console-font text-sm text-left text-gray-300 h-40 overflow-y-auto"></div></div>
                                <div id="ao-keyword-errorMessage" class="hidden mt-4 bg-red-100 border-red-400 text-red-700 px-4 py-3 rounded-lg text-center" role="alert"><strong class="font-bold">Analysis Error!</strong><span class="block sm:inline" id="ao-keyword-errorText"></span></div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-lg">
                                <h3 data-translate-key="step2_title" class="text-xl font-bold text-slate-800 mb-4">2. Find Affinity Media</h3>
                                <form id="ao-searchForm">
                                    <div class="space-y-6">
                                        <div><label for="ao-keyword-input" data-translate-key="keywords_label" class="block text-sm font-medium text-[#39414E] mb-2">Keywords or Topics</label><div class="flex items-center space-x-2 w-full bg-gray-100 border border-gray-300 rounded-lg p-1"><div id="ao-tags-container" class="flex-grow flex flex-wrap items-center gap-2 pl-2"></div><input type="text" id="ao-keyword-input" data-translate-key="add_keyword_placeholder" class="flex-grow bg-transparent border-none focus:ring-0 text-sm p-1" placeholder="Add keyword & press Enter..."></div></div>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start"><div><label for="ao-searchType" data-translate-key="search_type_label" class="block text-sm font-medium text-[#39414E] mb-2">Search Type</label><select id="ao-searchType" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#BF103C]"><option value="top_authority" selected>Top Authority (Top 1-10)</option><option value="established">Established Media (Top 11-30)</option><option value="rising_stars">Rising Stars (Top 31-50)</option></select></div><div id="ao-searchType-description" class="bg-slate-50 p-3 rounded-lg text-sm text-slate-600 mt-2 md:mt-0"></div></div>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="ao-country" data-translate-key="country_label" class="block text-sm font-medium text-[#39414E] mb-2">Country</label><select id="ao-country" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#BF103C]"><option value="AR">Argentina</option><option value="AT">Austria</option><option value="BR">Brazil</option><option value="CL">Chile</option><option value="CO">Colombia</option><option value="FR">France</option><option value="DE">Germany</option><option value="IT">Italy</option><option value="MX">Mexico</option><option value="PL">Poland</option><option value="PT">Portugal</option><option value="ES">Spain</option><option value="CH">Switzerland</option><option value="GB">United Kingdom</option><option value="US" selected>USA</option></select></div><div><label for="ao-language" data-translate-key="language_label" class="block text-sm font-medium text-[#39414E] mb-2">Language</label><select id="ao-language" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-[#BF103C]"><option value="en" selected>English</option><option value="fr">French</option><option value="de">German</option><option value="it">Italian</option><option value="pl">Polish</option><option value="pt">Portuguese</option><option value="es">Spanish</option></select></div></div>
                                        <div class="flex justify-center pt-2"><button type="submit" id="ao-searchButton" data-translate-key="search_media_btn" class="w-full md:w-1/2 bg-[#BF103C] hover:opacity-90 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="mr-2" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>Search Media</button></div>
                                    </div>
                                </form>
                            </div>
                            <div id="ao-log-console" class="hidden mt-6 bg-gray-800 rounded-xl shadow-lg"><div class="bg-gray-700 rounded-t-lg px-4 py-2 flex items-center"><span class="h-3 w-3 bg-red-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-yellow-500 rounded-full mr-2"></span><span class="h-3 w-3 bg-green-500 rounded-full"></span><span class="ml-4 text-gray-300 console-font text-sm">Search Process Log</span></div><div id="ao-log-container" class="p-4 console-font text-sm text-left text-gray-300 h-48 overflow-y-auto"></div></div>
                            <div id="ao-loader" class="hidden text-center my-10"><div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mx-auto mb-4"></div><p class="text-lg text-gray-500">Analyzing the web... This may take a moment.</p></div>
                            <div id="ao-errorMessage" class="hidden bg-red-100 border-red-400 text-red-700 px-4 py-3 rounded-lg text-center mt-6" role="alert"><strong class="font-bold">Error!</strong><span class="block sm:inline" id="ao-errorText"></span></div>
                            <div id="ao-resultsArea" class="hidden mt-12"><section id="ao-directResultsSection"><div class="flex flex-col md:flex-row justify-between items-center mb-4"><h2 class="text-2xl font-bold text-[#39414E] mb-2 md:mb-0">Found Media</h2><div class="flex space-x-2"><button id="ao-sortButton" class="bg-[#0FCCC9] hover:opacity-90 text-white font-bold py-2 px-4 rounded-lg text-sm">Sort by Relevance</button><button id="ao-exportButton" class="bg-[#BF103C] hover:opacity-90 text-white font-bold py-2 px-4 rounded-lg text-sm">Export Selected</button></div></div><div id="ao-resultsSummary" class="mb-4 text-sm text-gray-600"></div><div id="ao-resultsList" class="space-y-4"></div></section></div>
                        </main>
                    </div>
                </div>

                <div id="settings-view" class="view hidden">
                    <div class="container mx-auto max-w-3xl">
                        <header class="mb-8"><h1 data-translate-key="settings_title" class="text-4xl font-bold text-slate-800">Settings</h1><p data-translate-key="settings_subtitle" class="text-lg text-slate-500 mt-1">Manage your preferences and API keys.</p></header>
                        <div id="settings-success" class="hidden bg-green-100 text-green-700 text-sm p-3 rounded-lg mb-6"></div>
                        <div class="space-y-8">
                             <div class="bg-white p-6 rounded-xl shadow-lg">
                                <h3 data-translate-key="profile_settings_title" class="text-xl font-bold text-slate-800 mb-4">Profile Information</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><label for="user-first-name" data-translate-key="first_name_label" class="block text-sm font-medium text-[#39414E] mb-2">First Name</label><input type="text" id="user-first-name" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3"></div>
                                    <div><label for="user-last-name" data-translate-key="last_name_label" class="block text-sm font-medium text-[#39414E] mb-2">Last Name</label><input type="text" id="user-last-name" class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3"></div>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-lg">
                                <h3 data-translate-key="api_keys_title" class="text-xl font-bold text-slate-800 mb-2">API Keys</h3>
                                <p data-translate-key="api_keys_subtitle" class="text-sm text-slate-500 mb-6">This feature will be enabled in a future update.</p>
                                <div class="space-y-4">
                                    <div><label for="gemini-key" class="block text-sm font-medium text-[#39414E] mb-2">Gemini API Key</label><input type="password" id="gemini-key" placeholder="Paste your Gemini API key" disabled class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3"></div>
                                    <div><label for="serper-key" class="block text-sm font-medium text-[#39414E] mb-2">Serper API Key</label><input type="password" id="serper-key" placeholder="Paste your Serper API key" disabled class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3"></div>
                                    <div><label for="scraper-key" class="block text-sm font-medium text-[#39414E] mb-2">ScraperAPI Key</label><input type="password" id="scraper-key" placeholder="Paste your ScraperAPI key" disabled class="w-full bg-gray-100 border border-gray-300 rounded-lg p-3"></div>
                                </div>
                            </div>
                             <div class="flex justify-end"><button id="save-settings-btn" data-translate-key="save_settings_btn" class="bg-[#BF103C] text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition">Save Settings</button></div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // All JavaScript logic goes here...
    </script>
</body>
</html>